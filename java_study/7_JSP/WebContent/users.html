<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<title>회원가입폼</title>

<style type="text/css">
.error{
  color: red;
}
</style>

<script type="text/javascript">

$(function () {
	$("#id_check").click(function () {
		if($('#id').val().trim().length > 0)
		  idcheck();
		else
		  alert("ID 입력해 주세요 ")	
	});
});

function idcheck() {
    $.ajax({
    	url:'json/id_check.jsp',
    	dataType:'json',
    	data:{
    		id:$('#id').val().trim()
    	},
    	success:function(data){
    		if(data.id == null)
    		   $('#msg').html("사용 가능한 ID입니다.");
    		else
    			$('#msg').html("사용중인 ID입니다.");
    	},
    	error:function(e){
    		alert("error : "+e);
    	}
    });	
}

</script>

</head>
<body>
<h3>회원가입폼</h3>

<form action="adduser.jsp" method="post">

<table border="1">

<tr>
   <td><label for="id">Id </label></td>
   <td>
      <input type="text" id="id" name="id" value="" /> 
      <input type="button" value="ID중복체크" id="id_check"><br>
      <span id="msg" class="error"></span>
   </td>
</tr>
<tr>
   <td><label for="pw"> PW</label></td>
   <td><input type="password" id="pw" name="pw" value="" /> </td>
</tr>
<tr>
   <td><label for="name">Name </label></td>
   <td><input type="text" id="name" name="name" value="" /> </td>
</tr>
<tr>
   <td><label for=""> Role </label></td>
   <td>
   <input type="radio"  name="role" value="admin" /> admin
   <input type="radio"  name="role" value="user" checked="checked"/> user
   </td>
</tr>
<tr>
   <td colspan="2">
   <input type="submit" id="" value="회원가입" />
   <input type="reset" > 
   </td>
</tr>
</table>


</form>
</body>
</html>